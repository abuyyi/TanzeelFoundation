{% extends "base.html" %}
{% load static %}

{% block content %}


  <main class="main">

    <!-- Page Title -->
    <div class="page-title">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1 class="heading-title">Contact</h1>
              <p class="mb-0">
                Odio et unde deleniti. Deserunt numquam exercitationem. Officiis quo
                odio sint voluptas consequatur ut a odio voluptatem. Sit dolorum
                debitis veritatis natus dolores. Quasi ratione sint. Sit quaerat
                ipsum dolorem.
              </p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="{% url 'pages:homepage' %}">Home</a></li>
            <li class="current">Contact</li>
          </ol>
        </div>
      </nav>
    </div><!-- End Page Title -->

    <!-- Contact Section -->
    <section id="contact" class="contact section">

      <div class="container">
        <div class="contact-wrapper">
          <div class="contact-info-panel">
            <div class="contact-info-header">
              <h3>Contact Information</h3>
              <p>Dignissimos deleniti accusamus rerum voluptate. Dignissimos rerum sit maiores reiciendis voluptate inventore ut.</p>
            </div>

            <div class="contact-info-cards">
              <div class="info-card">
                <div class="icon-container">
                  <i class="bi bi-pin-map-fill"></i>
                </div>
                <div class="card-content">
                  <h4>Our Location</h4>
                  <p>4952 Hilltop Dr, Anytown, CA 90210</p>
                </div>
              </div>

              <div class="info-card">
                <div class="icon-container">
                  <i class="bi bi-envelope-open"></i>
                </div>
                <div class="card-content">
                  <h4>Email Us</h4>
                  <p>info@example.com</p>
                </div>
              </div>

              <div class="info-card">
                <div class="icon-container">
                  <i class="bi bi-telephone-fill"></i>
                </div>
                <div class="card-content">
                  <h4>Call Us</h4>
                  <p>+1 (555) 123-4567</p>
                </div>
              </div>

              <div class="info-card">
                <div class="icon-container">
                  <i class="bi bi-clock-history"></i>
                </div>
                <div class="card-content">
                  <h4>Working Hours</h4>
                  <p>Monday-Saturday: 9AM - 7PM</p>
                </div>
              </div>
            </div>

            <div class="social-links-panel">
              <h5>Follow Us</h5>
              <div class="social-icons">
                <a href="#"><i class="bi bi-facebook"></i></a>
                <a href="#"><i class="bi bi-twitter-x"></i></a>
                <a href="#"><i class="bi bi-instagram"></i></a>
                <a href="#"><i class="bi bi-linkedin"></i></a>
                <a href="#"><i class="bi bi-youtube"></i></a>
              </div>
            </div>
          </div>

          <div class="contact-form-panel">
            <div class="map-container">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3961.2105200349847!2d39.25146527930488!3d-6.86535727542772!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x185c358329184b73%3A0x87d0943b84f25e0e!2sTandika%20Foma!5e0!3m2!1sen!2sus!4v1769937328705!5m2!1sen!2sus" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>

            <div class="form-container">
              <h3>Send Us a Message</h3>
              <p>Lorem ipsum dolor sit amet consectetur adipiscing elit mauris hendrerit faucibus imperdiet nec eget felis.</p>

              <form method="post" action="{% url 'pages:contact' %}" class="contact-form" id="contactForm">
                {% csrf_token %}
                <div class="form-floating mb-3">
                  {{ form.name }}
                  <label for="{{ form.name.id_for_label }}">Full Name</label>
                  {% if form.name.errors %}
                    <div class="error-message">{{ form.name.errors }}</div>
                  {% endif %}
                </div>

                <div class="form-floating mb-3">
                  {{ form.email }}
                  <label for="{{ form.email.id_for_label }}">Email Address</label>
                  {% if form.email.errors %}
                    <div class="error-message">{{ form.email.errors }}</div>
                  {% endif %}
                </div>

                <div class="form-floating mb-3">
                  {{ form.subject }}
                  <label for="{{ form.subject.id_for_label }}">Subject</label>
                  {% if form.subject.errors %}
                    <div class="error-message">{{ form.subject.errors }}</div>
                  {% endif %}
                </div>

                <div class="form-floating mb-3">
                  {{ form.message }}
                  <label for="{{ form.message.id_for_label }}">Your Message</label>
                  {% if form.message.errors %}
                    <div class="error-message">{{ form.message.errors }}</div>
                  {% endif %}
                </div>

                <div class="my-3">
                  <div class="loading" style="display: none;">Loading</div>
                  <div class="error-message"></div>
                  <div class="sent-message" style="display: none;">Your message has been sent. Thank you!</div>
                </div>

                <div class="d-grid">
                  <button type="submit" class="btn-submit">Send Message <i class="bi bi-send-fill ms-2"></i></button>
                </div>
              </form>

              <script>
                document.getElementById('contactForm').addEventListener('submit', function(e) {
                  e.preventDefault();
                  
                  const form = this;
                  const loadingDiv = form.querySelector('.loading');
                  const errorDiv = form.querySelector('.error-message');
                  const successDiv = form.querySelector('.sent-message');
                  
                  loadingDiv.style.display = 'block';
                  errorDiv.style.display = 'none';
                  successDiv.style.display = 'none';
                  
                  fetch(form.action || window.location.href, {
                    method: 'POST',
                    body: new FormData(form),
                    headers: {
                      'X-Requested-With': 'XMLHttpRequest',
                    }
                  })
                  .then(response => response.json())
                  .then(data => {
                    loadingDiv.style.display = 'none';
                    if (data.success) {
                      successDiv.style.display = 'block';
                      form.reset();
                    } else {
                      errorDiv.style.display = 'block';
                      errorDiv.textContent = 'Please fill in all fields correctly.';
                    }
                  })
                  .catch(error => {
                    loadingDiv.style.display = 'none';
                    errorDiv.style.display = 'block';
                    errorDiv.textContent = 'An error occurred. Please try again.';
                  });
                });
              </script>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Contact Section -->

  </main>


{% endblock content %}